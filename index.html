<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Firemap</title>
<link rel="stylesheet" href="styles.css" />
</head>

<body>

<!-- SPLASH -->
<div id="splash">
  <img id="logo" src="./assets/icon.svg" alt="Firemap">
</div>

<main id="page" class="hidden">

<header class="header">
  <h1 class="header-title" data-i18n="title">Firemap</h1>

  <button id="hamburger" class="hamburger">
    <span></span>
    <span></span>
    <span></span>
  </button>
</header>

<div class="top-divider"></div>

<section class="content">
  <div class="placeholder" data-i18n="placeholder">Aquí irá el contenido.</div>
</section>

<div id="overlay" class="overlay"></div>

<aside id="drawer" class="drawer">
  <div class="drawer-top">
    <div class="drawer-title" data-i18n="language">Idioma</div>
    <button id="closeDrawer" class="close">✕</button>
  </div>

  <div class="drawer-body">
    <button class="lang-btn" data-lang="es">Español</button>
    <button class="lang-btn" data-lang="en">English</button>
  </div>
</aside>

</main>

<script>
window.addEventListener("load", () => {

  const splash = document.getElementById("splash");
  const logo = document.getElementById("logo");
  const page = document.getElementById("page");

  setTimeout(() => logo.classList.add("logo-in"), 200);

  setTimeout(() => {
    splash.classList.add("fade");
    setTimeout(() => {
      splash.style.display = "none";
      page.classList.remove("hidden");
      page.classList.add("show");
    }, 1200);
  }, 1800);
});

/* Drawer */
const hamburger = document.getElementById("hamburger");
const drawer = document.getElementById("drawer");
const overlay = document.getElementById("overlay");
const closeDrawer = document.getElementById("closeDrawer");

hamburger.onclick = () => {
  drawer.classList.add("open");
  overlay.classList.add("show");
};

closeDrawer.onclick = () => {
  drawer.classList.remove("open");
  overlay.classList.remove("show");
};

overlay.onclick = () => {
  drawer.classList.remove("open");
  overlay.classList.remove("show");
};

/* Idioma */
const dict = {
  es:{title:"Firemap",language:"Idioma",placeholder:"Aquí irá el contenido."},
  en:{title:"Firemap",language:"Language",placeholder:"Content will go here."}
};

function setLang(l){
  localStorage.setItem("lang",l);
  document.querySelectorAll("[data-i18n]").forEach(el=>{
    el.textContent=dict[l][el.dataset.i18n];
  });
}

setLang(localStorage.getItem("lang")||"es");

document.querySelectorAll(".lang-btn").forEach(b=>{
  b.onclick=()=>setLang(b.dataset.lang);
});
</script>

</body>
</html>
